function preloader(){document.querySelector("body").classList.add("loading")}document.addEventListener("DOMContentLoaded",preloader),function(){"use strict";function t(t){[].slice.call(document.querySelectorAll(t)).forEach(function(t,e){var a=t.clientHeight;t.style.marginTop=-a/2+"px"})}var e,a,i=document.querySelector("body"),n=!1,o={initialized:!1,initialize:function(){this.initialized||(this.initialized=!0,this.build())},build:function(){a=this.getBrowser(),"mobile"==a.platform?(n=!0,document.documentElement.classList.add("mobile")):document.documentElement.classList.add("desktop"),"ie"==a.browser&&document.documentElement.classList.add("ie"),("ie"==a.browser&&a.versionShort<9||("opera"==a.browser||"operaWebkit"==a.browser)&&a.versionShort<18||"firefox"==a.browser&&a.versionShort<30)&&alert("Обновите браузер"),this.materialPlagins(),null!==document.getElementById("map")&&this.mapFunction(),this.swiperSliders(),this.appearFunction(),null!==document.querySelector(".quantity-wrap")&&this.quantityFunc(),this.dropdownFunc(),this.copyright(),this.validateForm(),this.searchFunc(),this.catalogMenu()},catalogMenu:function(){var t=$(".navigation-catalog__body"),e=$(".navigation-catalog__nav"),a=$(".navigation-catalog__butt");$(".navigation-catalog__nav ul li").on("mouseover",function(){var e=$(this).attr("data-menu");$(".navigation-catalog__nav ul li").removeClass("active"),t.css("display","inline-block"),$(".catalog-menu").hide(),$('.catalog-menu[data-menu="'+e+'"]').show(),$('.navigation-catalog__nav ul li[data-menu="'+e+'"]').addClass("active")}),t.on("mouseleave",function(){a.dropdown("close"),t.hide()}),t.width($(".container").outerWidth()-a.outerWidth()-60),e.width(a.outerWidth()),$(window).resize(function(){t.width($(".container").outerWidth()-a.outerWidth()-60),e.width(a.outerWidth())})},searchFunc:function(){$(document).on("keyup",".head-search input",function(){$(this).val().length>3?$(".head-search .head-search-drop").fadeIn(500):$(".head-search .head-search-drop").fadeOut(500)}),$(document).on("click",function(t){$(t.target).closest(".head-search-drop").length||$(".head-search .head-search-drop").fadeOut(500)})},dropdownFunc:function(){$(document).on("click",".head-dropdown__butt",function(){var t=$(this).data("activates");$(".head-dropdown__butt").dropdown("close"),$('[data-activates="'+t+'"]').dropdown("open")}),$(document).on("click",".js_change_form",function(){$('[data-activates="drop-enter"]').dropdown("open"),$(this).hasClass("active")?($(this).removeClass("active"),$(this).html(" Уже есть аккаунт? <span> Войти</span>")):($(this).addClass("active"),$(this).html(" Нет учетной записи? <span> Зарегистрироваться </span>")),$(".drop-head--form").find(".drop-enter__box").toggleClass("active")})},quantityFunc:function(){var t,e,a;$(".head-dropdown__butt .cout").text($(".cart-container .cart-row").length),$(".cart-container .quantity-wrap").find(".quantity").on("input",function(){this.value=this.value.replace(/^\.|[^\d\.]|\.(?=.*\.)|^0+(?=\d)/g,"")}),$(".cart-container .plus-icon").click(function(){t=parseFloat($(this).parents(".quantity-wrap").find(".quantity").val()),t+=1,$(this).parents(".quantity-wrap").find(".quantity").val(t)}),$(".cart-container .minus-icon").click(function(){t=parseFloat($(this).parents(".quantity-wrap").find(".quantity").val()),t-=1,t<1&&(t=0),$(this).parents(".quantity-wrap").find(".quantity").val(t)}),$(document).on("click",".js_remove_item",function(){$(this).parents(".cart-row").remove(),$(".head-dropdown__butt .cout").text($(".cart-container .cart-row").length),0==$(".cart-container .cart-row").length&&$(".cart-container .cart-container-box").html('<div class="align-center empty-cart">Корзина пуста</div>')}),$(document).on("click",".quantity-wrap span",function(){e=parseInt($(this).parents(".cart-row").find(".quantity").data("price-product")),a=parseInt($(".quantity").text().replace(/\D+/g,"")),$(this).parents(".cart-row").find(".js_item_total").text(e*t)}),$(".quantity-wrap").find(".quantity").on("blur",function(){e=parseFloat($(this).parents(".cart-row").find(".quantity").data("price-product")),thisValue=parseFloat($(this).val()),$(this).parents(".cart-row").find(".js_item_total").text(e*thisValue)})},copyright:function(){var t=document.querySelector(".yearN"),e=(new Date).getFullYear().toString();e.length&&(t.innerText=e)},getBrowser:function(){var t,e=navigator.userAgent,a=function(){return e.search(/Edge/)>-1?"edge":e.search(/MSIE/)>-1?"ie":e.search(/Trident/)>-1?"ie11":e.search(/Firefox/)>-1?"firefox":e.search(/Opera/)>-1?"opera":e.search(/OPR/)>-1?"operaWebkit":e.search(/YaBrowser/)>-1?"yabrowser":e.search(/Chrome/)>-1?"chrome":e.search(/Safari/)>-1?"safari":e.search(/maxHhon/)>-1?"maxHhon":void 0}();switch(a){case"edge":t=e.split("Edge")[1].split("/")[1];break;case"ie":t=e.split("MSIE ")[1].split(";")[0];break;case"ie11":a="ie",t=e.split("; rv:")[1].split(")")[0];break;case"firefox":t=e.split("Firefox/")[1];break;case"opera":t=e.split("Version/")[1];break;case"operaWebkit":a="opera",t=e.split("OPR/")[1];break;case"yabrowser":t=e.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":t=e.split("Chrome/")[1].split(" ")[0];break;case"safari":t=e.split("Safari/")[1].split("")[0];break;case"maxHhon":t=e.split("maxHhon/")[1]}var i="desktop";/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())&&(i="mobile");var n;try{n={platform:i,browser:a,versionFull:t,versionShort:t.split(".")[0]}}catch(o){n={platform:i,browser:"unknown",versionFull:"unknown",versionShort:"unknown"}}return n},swiperSliders:function(){new Swiper(".general-slider .swiper-container",{loop:!0,autoplay:2e3,speed:1500,pagination:".general-slider .swiper-pagination",paginationClickable:!0,nextButton:".general-slider .swiper-button-next",prevButton:".general-slider .swiper-button-prev",parallax:!0});$(".product-slider-cont").each(function(t,e){var a=!1;$(e).find(".swiper-slide").length>4&&(a=!0);new Swiper($(e).find(".swiper-container"),{loop:a,speed:1500,slidesPerView:5,spaceBetween:25,nextButton:$(e).find(".swiper-button-next"),prevButton:$(e).find(".swiper-button-prev"),breakpoints:{1100:{slidesPerView:4,spaceBetween:15},768:{slidesPerView:3,spaceBetween:15},640:{slidesPerView:2,spaceBetween:15},400:{slidesPerView:1,spaceBetween:0}}})})},pagePreloader:function(){window.addEventListener("load",function(){setTimeout(function(){i.classList.add("loaded")},2e3),setTimeout(function(){document.querySelector(".preloader").style.display="none"},2500)})},validateForm:function(){function t(t){function e(t,e){e?(t.parents(".required-field").addClass(a).removeClass(i),n++):t.parents(".required-field").addClass(i).removeClass(a)}var a="error",i="pass",n=(t.find("[required]"),0),o=void 0,r=t.find(".password").val(),s=t.find(".password_1").val(),c=!1,d=!1,l=!1;return t.find("[required]").each(function(){switch($(this).attr("data-validate")){case void 0:e($(this),0===$.trim($(this).val()).length);break;case"email":c=!0,o=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,e($(this),!o.test($.trim($(this).val()))),c=!1;break;case"phone":l=!0,o=/[0-9 -()+]{10}$/,e($(this),!o.test($.trim($(this).val()))),l=!1;break;case"pass":d=!0,o=/^[a-zA-Z0-9_-]{6,}$/,e($(this),!o.test($.trim($(this).val()))),d=!1;break;case"pass1":e($(this),s!==r||0===$.trim($(this).val()).length);break;default:o=new RegExp($(this).attr("data-validate"),"g"),e($(this),!o.test($.trim($(this).val())))}}),$(".js_valid_radio").each(function(){for(var t=$(this).find("input.required"),e=0,o=0;o<t.length;o++){if($(t[o]).is(":checked")===!0){e=1;break}e=0}0===e?($(this).addClass(a).removeClass(i),n=1):$(this).addClass(i).removeClass(a)}),0===n||(t.find("."+a+" input:first").focus(),!1)}$(document).on("click",".close-toast",function(){$(this).parents(".toast").hide()}),$('.js_validate button[type="submit"]').on("click",function(){var e="<b>Спасибо</b> Все успешно",a='<span class="close-toast"></span>';return Materialize.toast(a+e,4e3),t($(this).parent(".js_validate"))})},materialPlagins:function(){$(".dropdown-button").dropdown(),$("select").not(".my_select_box").material_select(),$(".collapsible").collapsible(),$(".modal").modal({opacity:1})},appearFunction:function(){0==n?$(".animated").appear(function(){var t=$(this),e=t.data("animation");if(!t.hasClass("visible")){var a=t.data("animation-delay");a?setTimeout(function(){t.addClass(e+" visible")},a):t.addClass(e+" visible")}},{accX:0,accY:-500}):$(".animated").each(function(){var t=$(this).data("animation");$(this).addClass(t+" visible")})}};o.initialize(),window.addEventListener("scroll",function(){e=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}),window.onload=function(){void 0!==document.getElementById(".swiper-caption")&&t(".swiper-caption")},window.addEventListener("resize",function(){void 0!==document.getElementById(".swiper-caption")&&t(".swiper-caption")})}();
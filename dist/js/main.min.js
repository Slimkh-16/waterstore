function preloader(){document.querySelector("body").classList.add("loading")}document.addEventListener("DOMContentLoaded",preloader),function(){"use strict";function e(e){[].slice.call(document.querySelectorAll(e)).forEach(function(e,t){var a=e.clientHeight;e.style.marginTop=-a/2+"px"})}function t(e){for(var t=document.querySelectorAll(e),a=0,i=0;i<t.length;++i)t[i].style.height="",t[i].removeAttribute("style"),a<t[i].offsetHeight&&(a=t[i].offsetHeight),t[i].style.height=a+"px";for(var i=0;i<t.length;++i)t[i].style.height=a+"px"}var a,i,n=document.querySelector("body"),o=!1,r=$(window).outerWidth(),s={initialized:!1,initialize:function(){this.initialized||(this.initialized=!0,this.build())},build:function(){null!==document.querySelector(".preloader")&&this.pagePreloader(),i=this.getBrowser(),"mobile"==i.platform?(o=!0,document.documentElement.classList.add("mobile")):document.documentElement.classList.add("desktop"),"ie"==i.browser&&document.documentElement.classList.add("ie"),("ie"==i.browser&&i.versionShort<9||("opera"==i.browser||"operaWebkit"==i.browser)&&i.versionShort<18||"firefox"==i.browser&&i.versionShort<30)&&alert("Обновите браузер"),this.materialPlagins(),null!==document.getElementById("map")&&this.mapFunction(),this.swiperSliders(),this.appearFunction(),null!==document.querySelector(".quantity-wrap")&&this.quantityFunc(),this.dropdownFunc(),this.copyright(),this.validateForm(),this.searchFunc(),this.catalogMenu(),this.mobileMenu(),null!==document.querySelector(".range-slider")&&this.sliderRange(),null!==document.querySelector(".filter-section-top")&&this.filterfunction()},filterfunction:function(){$(".filter-section-top ul li").on("click",function(){var e=$(this).attr("data-category");$(".filter-section-top ul li").removeClass("active"),$(this).addClass("active"),$(".filter-category").hide(),$('.filter-category[data-category="'+e+'"]').show(),setTimeout(function(){$(".filter-section-body").slideDown(500,function(){t(".height_")})},200)}),$(document).on("click",".js_filter_close",function(){$(".filter-section-body").slideUp(500),$(".filter-category").hide(),$(".filter-section-top ul li").removeClass("active")})},sliderRange:function(){for(var e,t,a,i,n=document.querySelectorAll(".range-slider [id]"),o=0;o<n.length;o++){e=parseInt(n[o].getAttribute("data-min")),t=parseInt(n[o].getAttribute("data-max")),a=parseInt(n[o].getAttribute("data-slider-min")),i=parseInt(n[o].getAttribute("data-slider-max")),i||(a=e),i||(i=t),noUiSlider.create(n[o],{start:[a,i],connect:!0,step:1,range:{min:e,max:t},format:wNumb({decimals:0})});var r=$(n[o]).parents(".range-slider").find(".js_from"),s=$(n[o]).parents(".range-slider").find(".js_to");n[o].noUiSlider.on("update",function(e,t){var a=parseInt(e[t]);t?s.val(a):r.val(a)});var l=n[o];document.querySelectorAll(".js_from")[o].addEventListener("change",function(){l.noUiSlider.set([this.value,null])}),document.querySelectorAll(".js_to")[o].addEventListener("change",function(){l.noUiSlider.set([null,this.value])})}},mobileMenu:function(){$("#mmenu").mmenu({navbar:{title:"Меню"},extensions:["pagedim-black"]}),r<767&&(console.log(r),$(document).on("click",".foot-nav__head ",function(){$(this).toggleClass("active"),$(this).parents(".foot-nav").find("ul").slideToggle()}))},catalogMenu:function(){var e=$(".navigation-catalog__body"),t=$(".navigation-catalog__nav"),a=$(".navigation-catalog__butt");$(".navigation-catalog__nav ul li").on("mouseover",function(){var t=$(this).attr("data-menu");$(".head-dropdown.dropdown-button").dropdown("close"),$(".navigation-catalog__nav ul li").removeClass("active"),e.css("display","inline-block"),$(".catalog-menu").hide(),$('.catalog-menu[data-menu="'+t+'"]').show(),$('.navigation-catalog__nav ul li[data-menu="'+t+'"]').addClass("active")}),$(".navigation-catalog-inner").on("mouseleave",function(){$(".navigation-catalog__nav ul li").removeClass("active"),a.dropdown("close"),e.hide()}),e.width($(".container").outerWidth()-a.outerWidth()-60),t.width(a.outerWidth()),$(window).resize(function(){e.width($(".container").outerWidth()-a.outerWidth()-60),t.width(a.outerWidth())})},searchFunc:function(){$(document).on("keyup",".head-search input",function(){$(this).val().length>3?$(".head-search .head-search-drop").fadeIn(500):$(".head-search .head-search-drop").fadeOut(500)}),$(document).on("click",function(e){$(e.target).closest(".head-search-drop").length||$(".head-search .head-search-drop").fadeOut(500)})},dropdownFunc:function(){$(document).on("click",".head-dropdown__butt",function(){var e=$(this).data("activates");$(".head-dropdown__butt").dropdown("close"),$('[data-activates="'+e+'"]').dropdown("open")}),$(document).on("click",".js_change_form",function(){$('[data-activates="drop-enter"]').dropdown("open"),$(this).hasClass("active")?($(this).removeClass("active"),$(this).html(" Уже есть аккаунт? <span> Войти</span>")):($(this).addClass("active"),$(this).html(" Нет учетной записи? <span> Зарегистрироваться </span>")),$(".drop-head--form").find(".drop-enter__box").toggleClass("active")}),$(document).on("click",".navigation-catalog__butt",function(){console.log(120),$(".head-dropdown__butt").dropdown("close")})},quantityFunc:function(){var e,t,a,i;$(".head-dropdown__butt .cout").text($(".cart-container .cart-row").length),$(".cart-container .quantity-wrap").find(".quantity").on("input",function(){this.value=this.value.replace(/^\.|[^\d\.]|\.(?=.*\.)|^0+(?=\d)/g,"")}),$(".plus-icon").click(function(){e=parseFloat($(this).parents(".quantity-wrap").find(".quantity").val()),e+=1,$(this).parents(".quantity-wrap").find(".quantity").val(e)}),$(".minus-icon").click(function(){e=parseFloat($(this).parents(".quantity-wrap").find(".quantity").val()),e-=1,e<1&&(e=0),$(this).parents(".quantity-wrap").find(".quantity").val(e)}),$(document).on("click",".js_remove_item",function(){$(this).parents(".cart-row").remove(),$(".head-dropdown__butt .cout").text($(".cart-container .cart-row").length),0==$(".cart-container .cart-row").length&&$(".cart-container .cart-container-box").html('<div class="align-center empty-cart">Корзина пуста</div>')}),$(document).on("click",".quantity-wrap span",function(){t=parseInt($(this).parents(".cart-row").find(".quantity").data("price-product")),a=parseInt($(".quantity").text().replace(/\D+/g,"")),$(this).parents(".cart-row").find(".js_item_total").text(t*e)}),$(".quantity-wrap").find(".quantity").on("blur",function(){t=parseFloat($(this).parents(".cart-row").find(".quantity").data("price-product")),i=parseFloat($(this).val()),$(this).parents(".cart-row").find(".js_item_total").text(t*i)})},copyright:function(){var e=document.querySelector(".yearN"),t=(new Date).getFullYear().toString();t.length&&(e.innerText=t)},getBrowser:function(){var e,t=navigator.userAgent,a=function(){return t.search(/Edge/)>-1?"edge":t.search(/MSIE/)>-1?"ie":t.search(/Trident/)>-1?"ie11":t.search(/Firefox/)>-1?"firefox":t.search(/Opera/)>-1?"opera":t.search(/OPR/)>-1?"operaWebkit":t.search(/YaBrowser/)>-1?"yabrowser":t.search(/Chrome/)>-1?"chrome":t.search(/Safari/)>-1?"safari":t.search(/maxHhon/)>-1?"maxHhon":void 0}();switch(a){case"edge":e=t.split("Edge")[1].split("/")[1];break;case"ie":e=t.split("MSIE ")[1].split(";")[0];break;case"ie11":a="ie",e=t.split("; rv:")[1].split(")")[0];break;case"firefox":e=t.split("Firefox/")[1];break;case"opera":e=t.split("Version/")[1];break;case"operaWebkit":a="opera",e=t.split("OPR/")[1];break;case"yabrowser":e=t.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":e=t.split("Chrome/")[1].split(" ")[0];break;case"safari":e=t.split("Safari/")[1].split("")[0];break;case"maxHhon":e=t.split("maxHhon/")[1]}var i="desktop";/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())&&(i="mobile");var n;try{n={platform:i,browser:a,versionFull:e,versionShort:e.split(".")[0]}}catch(o){n={platform:i,browser:"unknown",versionFull:"unknown",versionShort:"unknown"}}return n},swiperSliders:function(){new Swiper(".general-slider .swiper-container",{loop:!0,autoplay:4e3,speed:2e3,pagination:".general-slider .swiper-pagination",paginationClickable:!0,nextButton:".general-slider .swiper-button-next",prevButton:".general-slider .swiper-button-prev",parallax:!0});$(".product-slider-cont").each(function(e,t){var a=!1;$(t).find(".swiper-slide").length>4&&(a=!0),r<1023&&$(t).find(".swiper-slide").length>2&&(a=!0);new Swiper($(t).find(".swiper-container"),{loop:a,speed:1500,slidesPerView:5,spaceBetween:25,nextButton:$(t).find(".swiper-button-next"),prevButton:$(t).find(".swiper-button-prev"),breakpoints:{1400:{spaceBetween:15},1300:{slidesPerView:4,spaceBetween:15},768:{slidesPerView:3,spaceBetween:15},640:{slidesPerView:2,spaceBetween:15},500:{slidesPerView:1,spaceBetween:15}}})})},pagePreloader:function(){window.addEventListener("load",function(){setTimeout(function(){n.classList.add("loaded")},2e3),setTimeout(function(){document.querySelector(".preloader").style.display="none"},2500)})},validateForm:function(){function e(e){function t(e,t){t?(e.parents(".required-field").addClass(a).removeClass(i),n++):e.parents(".required-field").addClass(i).removeClass(a)}var a="error",i="pass",n=(e.find("[required]"),0),o=void 0,r=e.find(".password").val(),s=e.find(".password_1").val(),l=!1,c=!1,d=!1;return e.find("[required]").each(function(){switch($(this).attr("data-validate")){case void 0:t($(this),0===$.trim($(this).val()).length);break;case"email":l=!0,o=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,t($(this),!o.test($.trim($(this).val()))),l=!1;break;case"phone":d=!0,o=/[0-9 -()+]{10}$/,t($(this),!o.test($.trim($(this).val()))),d=!1;break;case"pass":c=!0,o=/^[a-zA-Z0-9_-]{6,}$/,t($(this),!o.test($.trim($(this).val()))),c=!1;break;case"pass1":t($(this),s!==r||0===$.trim($(this).val()).length);break;default:o=new RegExp($(this).attr("data-validate"),"g"),t($(this),!o.test($.trim($(this).val())))}}),$(".js_valid_radio").each(function(){for(var e=$(this).find("input.required"),t=0,o=0;o<e.length;o++){if($(e[o]).is(":checked")===!0){t=1;break}t=0}0===t?($(this).addClass(a).removeClass(i),n=1):$(this).addClass(i).removeClass(a)}),0===n||(e.find("."+a+" input:first").focus(),!1)}$(document).on("click",".close-toast",function(){$(this).parents(".toast").hide()}),$('.js_validate button[type="submit"]').on("click",function(){var t="<b>Спасибо</b> Все успешно",a='<span class="close-toast"></span>';return Materialize.toast(a+t,4e3),e($(this).parent(".js_validate"))})},materialPlagins:function(){r<1023&&$(".navigation-catalog__butt .hamburger").removeClass("is-active"),$(".tooltipped").tooltip({delay:50}),$(".dropdown-button").dropdown(),$("select").not(".my_select_box").material_select(),$(".collapsible").collapsible(),$(".modal").modal({opacity:1})},appearFunction:function(){0==o?$(".animated").appear(function(){var e=$(this),t=e.data("animation");if(!e.hasClass("visible")){var a=e.data("animation-delay");a?setTimeout(function(){e.addClass(t+" visible")},a):e.addClass(t+" visible")}},{accX:0,accY:-500}):$(".animated").each(function(){var e=$(this).data("animation");$(this).addClass(e+" visible")})}};s.initialize(),window.addEventListener("scroll",function(){a=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}),window.onload=function(){void 0!==document.getElementById(".swiper-caption")&&e(".swiper-caption")},window.addEventListener("resize",function(){void 0!==document.getElementById(".swiper-caption")&&e(".swiper-caption"),void 0!==document.querySelector(".height_")&&t(".height_")})}();